{"code":"!function(t){var e={};function o(n){if(e[n])return e[n].exports;var d=e[n]={i:n,l:!1,exports:{}};return t[n].call(d.exports,d,d.exports,o),d.l=!0,d.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var d in t)o.d(n,d,function(e){return t[e]}.bind(null,d));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,\"a\",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p=\"\",o(o.s=0)}([function(t,e,o){\"use strict\";function n(){}o.r(e),n.prototype.init=function(){},n.prototype.render=function(){},n.prototype.delete=function(){};const d=document.createElement(\"span\");function i(t){this.id=(new Date).getTime(),this.text=t,this.status=!1,this.checked=!1}i.prototype=Object.create(n.prototype),i.prototype.constructor=i,i.prototype.render=function(){var t=document.createElement(\"div\");return t.className=\"todo-wrapper\",t.innerHTML=Mustache.render('\\n    <div class=\"list-item {{#status}}done{{/status}}\" todo-id=\"{{id}}\">\\n        <input type=\"checkbox\" class=\"check-box\" todo-action=\"select-item\" {{#checked}}checked{{/checked}}>\\n        <p class=\"todo-text\" todo-action=\"todo-text\">{{text}}</p>\\n        <button class=\"btn-done\" todo-action=\"mark-done\">Done</button>\\n        <button class=\"btn-delete\" todo-action=\"delete-item\">Delete</button>\\n    </div>\\n',this),t.onclick=c.bind(this),t},i.prototype.setChecked=function(t){var e=document.querySelector(`[todo-id='${this.id}']`);this.checked=t,e.querySelector(\".check-box\").checked=t},i.prototype.setStatus=function(t){var e=document.querySelector(`[todo-id='${this.id}']`);this.status=t,t?e.classList.add(\"done\"):e.classList.remove(\"done\")},i.prototype.delete=function(){var t=new CustomEvent(\"TodoManager:deleteMapItem\",{detail:{todoID:this.id}});d.dispatchEvent(t),document.querySelector(`[todo-id='${this.id}']`).closest(\".todo-wrapper\").remove()};const c=function(t){switch(t.target.getAttribute(\"todo-action\")){case\"select-item\":this.setChecked(t.target.checked);break;case\"mark-done\":this.setStatus(!this.status);break;case\"delete-item\":this.delete()}};function r(){}r.prototype=Object.create(n.prototype),r.prototype.constructor=r,r.prototype.init=function(){document.getElementById(\"btn-add\").onclick=a,document.getElementById(\"btn-select-all\").onclick=s,document.getElementById(\"btn-delete-selected\").onclick=l,document.getElementById(\"btn-delete-completed\").onclick=u,document.getElementById(\"text-box\").onkeypress=function(t){13===t.keyCode&&a()}};const a=function(){var t=document.getElementById(\"text-box\").value;if(document.getElementById(\"text-box\").value=\"\",t){let e=new CustomEvent(\"TodoManager:addItem\",{detail:{todoText:t}});d.dispatchEvent(e)}},s=function(){d.dispatchEvent(new CustomEvent(\"TodoManager:selectDeselectAll\"))},l=function(){var t=new CustomEvent(\"TodoManager:deleteSelected\");d.dispatchEvent(t)},u=function(){var t=new CustomEvent(\"TodoManager:deleteCompleted\");d.dispatchEvent(t)};function p(){this.todoItemMap=window.todoItemMap={}}p.prototype.init=function(){this.todoActionBar=new r,this.todoActionBar.init(),d.addEventListener(\"TodoManager:selectDeselectAll\",b.bind(this)),d.addEventListener(\"TodoManager:deleteMapItem\",h.bind(this)),d.addEventListener(\"TodoManager:deleteSelected\",f.bind(this)),d.addEventListener(\"TodoManager:deleteCompleted\",y.bind(this)),d.addEventListener(\"TodoManager:addItem\",m.bind(this))};const m=function(t){var e=new i(t.detail.todoText),o=e.render();this.todoItemMap[e.id]=e,document.getElementById(\"list-container\").appendChild(o)},h=function(t){var e=t.detail.todoID;delete this.todoItemMap[e]},f=function(){for(let t in this.todoItemMap)this.todoItemMap[t].checked&&this.todoItemMap[t].delete()},y=function(){for(let t in this.todoItemMap)this.todoItemMap[t].status&&this.todoItemMap[t].delete()},b=function(){var t=!0,e=this.todoItemMap[Object.keys(this.todoItemMap)[0]];e&&e.checked&&(t=!1);for(let e in this.todoItemMap)this.todoItemMap[e].setChecked(t)};(new p).init()}]);","extractedComments":[]}